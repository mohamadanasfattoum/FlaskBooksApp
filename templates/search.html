{% extends "base.html" %}

{% block body %}
    <h3>Search Books</h3>

    <form method="post" class="mb-5">
        <div class="input-group">
            <input type="text" name="query" placeholder="Search by title or author">
            <button type="submit" class="btn btn-primary">Search</button>

        </div>
    </form>



    {% if query %}
      <div>
        <h3> Results for {{query}} </h3>
            <div class="my-3">
                <h3> Books </h3>
                <ul class="list-group">
                    {% for book in books  %}
                      <li class="list-group-item"><a href="{{url_for('book_detail', id=book.id)}}">{{book.title}} by {{book.author.name}} </a></li>
                    {% else %}
                    <li class="list-group-item">No Books Found</li>
                    {% endfor %}
                </ul>
            </div>
            <div class="my-3">
                <h3> Authors </h3>
                <ul class="list-group">
                    {% for author in authors  %}
                      <li class="list-group-item"><a href="">{{author.name}}</a></li>
                      {% else %}
                      <li class="list-group-item">No Authors Found</li>                      
                    {% endfor %}
                </ul>
            </div>



      </div>
    {% endif %}
     




{% endblock body %}